<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Djiango项目实战 | 熊猫笔记</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/xjq2020616_blog_vuepress/熊猫.png">
    <audio autoplay="" loop="" src="music/Kaze_Ni_Fukarete-福原遥.mp3"></audio>
    <meta name="description" content="微笑面对毒打">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/xjq2020616_blog_vuepress/assets/css/0.styles.10afba96.css" as="style"><link rel="preload" href="/xjq2020616_blog_vuepress/assets/js/app.7ef42ee5.js" as="script"><link rel="preload" href="/xjq2020616_blog_vuepress/assets/js/3.f0d8f0a3.js" as="script"><link rel="preload" href="/xjq2020616_blog_vuepress/assets/js/1.11f2be65.js" as="script"><link rel="preload" href="/xjq2020616_blog_vuepress/assets/js/11.ec4223de.js" as="script"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/10.6733be78.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/12.61488e3c.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/13.5a2e3eec.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/14.3a801b24.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/15.50771a84.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/4.baa86f74.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/5.b06a46f8.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/6.a1c7aa42.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/7.d3fac426.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/8.7b0fbe55.js"><link rel="prefetch" href="/xjq2020616_blog_vuepress/assets/js/9.c9df3bf7.js">
    <link rel="stylesheet" href="/xjq2020616_blog_vuepress/assets/css/0.styles.10afba96.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-4698c43e><div data-v-4698c43e><div id="loader-wrapper" class="loading-wrapper" data-v-4b73742e data-v-4698c43e data-v-4698c43e><div class="loader-main" data-v-4b73742e><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-6cbeab0a data-v-4698c43e data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>熊猫笔记</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Panda</span>
            
          <span data-v-6cbeab0a>2020 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-4698c43e><header class="navbar" data-v-4698c43e><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/xjq2020616_blog_vuepress/" class="home-link router-link-active"><img src="/xjq2020616_blog_vuepress/竹笋.png" alt="熊猫笔记" class="logo"> <span class="site-name">熊猫笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/xjq2020616_blog_vuepress/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/xjq2020616_blog_vuepress/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签分类
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      笔记分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/technical/" class="nav-link"><i class="iconfont undefined"></i>
  technical
</a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/技术笔记/" class="nav-link"><i class="iconfont undefined"></i>
  技术笔记
</a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/Python/" class="nav-link"><i class="iconfont undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/other/" class="nav-link"><i class="iconfont undefined"></i>
  other
</a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/Http/" class="nav-link"><i class="iconfont undefined"></i>
  Http
</a></li></ul></div></div><div class="nav-item"><a href="http://www.shouce.ren/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-faq"></i>
  前端基础知识
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.shouce.ren/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-other"></i>
  爬虫
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont /小电脑.png"></i>
      后台
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.djangoproject.com/zh-hans/2.2/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-gitlab"></i>
  Djiango官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/views/Djiango笔记/" class="nav-link"><i class="iconfont reco-gitlab"></i>
  Djiango笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      学习海洋
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/smallCall?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-gitlab"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.bilibili.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bilibili"></i>
  bilibili
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.liaoxuefeng.com/wiki/896043488029600/897271968352576" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  GitHub学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/xjq2020616_blog_vuepress/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  更新记录
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-4698c43e></div> <aside class="sidebar" data-v-4698c43e><div class="personal-info-wrapper" data-v-6c8ffc9c><img src="/xjq2020616_blog_vuepress/大熊猫.png" alt="author-avatar" class="personal-img" data-v-6c8ffc9c> <h3 class="name" data-v-6c8ffc9c>
    Panda
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>5</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>8</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><a href="/xjq2020616_blog_vuepress/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/xjq2020616_blog_vuepress/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签分类
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      笔记分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/technical/" class="nav-link"><i class="iconfont undefined"></i>
  technical
</a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/技术笔记/" class="nav-link"><i class="iconfont undefined"></i>
  技术笔记
</a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/Python/" class="nav-link"><i class="iconfont undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/other/" class="nav-link"><i class="iconfont undefined"></i>
  other
</a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/categories/Http/" class="nav-link"><i class="iconfont undefined"></i>
  Http
</a></li></ul></div></div><div class="nav-item"><a href="http://www.shouce.ren/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-faq"></i>
  前端基础知识
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.shouce.ren/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-other"></i>
  爬虫
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont /小电脑.png"></i>
      后台
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.djangoproject.com/zh-hans/2.2/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-gitlab"></i>
  Djiango官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/xjq2020616_blog_vuepress/views/Djiango笔记/" class="nav-link"><i class="iconfont reco-gitlab"></i>
  Djiango笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      学习海洋
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/smallCall?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-gitlab"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.bilibili.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bilibili"></i>
  bilibili
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.liaoxuefeng.com/wiki/896043488029600/897271968352576" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  GitHub学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/xjq2020616_blog_vuepress/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  更新记录
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Djiango项目实战</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#当前项目的开发环境" class="sidebar-link">当前项目的开发环境</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#项目的结构搭建" class="sidebar-link">项目的结构搭建</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#前台页面和后台页面的基本搭建" class="sidebar-link">前台页面和后台页面的基本搭建</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#后台开发" class="sidebar-link">后台开发</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#会员管理页面的搭建" class="sidebar-link">会员管理页面的搭建</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#后台添加页面和模型的设计" class="sidebar-link">后台添加页面和模型的设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#用户模型的建立与构想" class="sidebar-link">用户模型的建立与构想</a></li></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#模型的设计（简称数据库的设计）" class="sidebar-link">模型的设计（简称数据库的设计）</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#数据库的迁移" class="sidebar-link">数据库的迁移</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#创建一个表单from来接收web发来的数据" class="sidebar-link">创建一个表单from来接收web发来的数据</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#后台处理数据" class="sidebar-link">后台处理数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#接收web的数据进行处理" class="sidebar-link">接收web的数据进行处理</a></li></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#后台处理web上传的图片" class="sidebar-link">后台处理web上传的图片</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#上传的文件需要改名" class="sidebar-link">上传的文件需要改名</a></li></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#上传图片的预加载" class="sidebar-link">上传图片的预加载</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#后台显示数据库中的数据" class="sidebar-link">后台显示数据库中的数据</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#利用ajax完成不跳转删除" class="sidebar-link">利用ajax完成不跳转删除</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#对数据库进行搜索数据" class="sidebar-link">对数据库进行搜索数据</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#将数据库中的数据进行分页处理" class="sidebar-link">将数据库中的数据进行分页处理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#分页优化" class="sidebar-link">分页优化</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#在模板中自定义标签" class="sidebar-link">在模板中自定义标签</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#图书分类模块的设计" class="sidebar-link">图书分类模块的设计</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#数据库的迁移-2" class="sidebar-link">数据库的迁移</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#对myadmin后台视图进行优化" class="sidebar-link">对myadmin后台视图进行优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#修改后的文件目录" class="sidebar-link">修改后的文件目录</a></li></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#对图书分类进行初始化操作" class="sidebar-link">对图书分类进行初始化操作</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#图书分类添加的实现" class="sidebar-link">图书分类添加的实现</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#对数据库内的层级关系进行排序显示" class="sidebar-link">对数据库内的层级关系进行排序显示</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#处理缩进问题" class="sidebar-link">处理缩进问题</a></li></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#ajax删除分类" class="sidebar-link">ajax删除分类</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#ajax编辑图书分离" class="sidebar-link">ajax编辑图书分离</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#script代码语法出错不会报" class="sidebar-link">script代码语法出错不会报</a></li><li class="sidebar-sub-header"><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#上锁问题解锁开锁问题" class="sidebar-link">上锁问题解锁开锁问题</a></li></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#图书商城模型设计" class="sidebar-link">图书商城模型设计</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#图书商品拥有的功能" class="sidebar-link">图书商品拥有的功能</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#图书模型设计：" class="sidebar-link">图书模型设计：</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#图书封面图集模型" class="sidebar-link">图书封面图集模型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#图书商品的添加" class="sidebar-link">图书商品的添加</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#图书列表的显示" class="sidebar-link">图书列表的显示</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#添加富文本编辑器" class="sidebar-link">添加富文本编辑器</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xjq2020616_blog_vuepress/views/Djiango%E9%A1%B9%E7%9B%AE/BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html#多图开发插插件应用" class="sidebar-link">多图开发插插件应用</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-6cbeab0a data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>Djiango项目实战</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Panda</span>
            
          <span data-v-6cbeab0a>2020 - </span>
          2020
        </a></span></div></div> <div data-v-4698c43e><main class="page"><!----> <div class="page-title" style="display:none;"><h1>Djiango项目实战</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>Panda</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2020-06-16</span></i> <!----> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      Windows
    </span><span class="tag-item" data-v-484a899e>
      计算机
    </span><span class="tag-item" data-v-484a899e>
      Djiango
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="_2020-4-17-4-19"><a href="#_2020-4-17-4-19" class="header-anchor">#</a> 2020.4.17 - 4.19</h1> <p>万能的方法</p> <div class="language- extra-class"><pre class="language-text"><code># 查询某一个类的全部属性和方法
print(dir(object))
# 查看函数或模块用途的详细说明
help(object)
# 查看具体类中某方法的详细说明
help(object.method_name)
</code></pre></div><h2 id="当前项目的开发环境"><a href="#当前项目的开发环境" class="header-anchor">#</a> 当前项目的开发环境</h2> <ul><li>python版本：Python 3.6.10</li> <li>Django版本：2.2.10</li> <li>利用的模板：
<ul><li>后台是Amazon UI后台</li> <li>前台为Bootstrap4网上书店模板书店商城，Koparion</li></ul></li> <li>假如创建好项目无法运行
<ul><li>找到run/debug configurations</li> <li>在parametes 内写入 runserver</li></ul></li></ul> <h2 id="项目的结构搭建"><a href="#项目的结构搭建" class="header-anchor">#</a> 项目的结构搭建</h2> <ul><li><p>1.创建项目，到一个xjq_django 下执行 django-admin startproject bookshop</p></li> <li><ol start="2"><li>创建static文件夹，用于存放静态文件(html页面所需要的css和js)</li></ol></li> <li><p>3.在bookshop文件夹下创建两个个app 执行</p> <ul><li>python manage.py startapp myhome    前台</li> <li>python manage.py startapp myadmin   后台</li></ul></li> <li><p>4.配置bookshop 内的settings</p> <ul><li><p>INSTALLED_APPS（安装app） 内加入新创建的  myhome 和 myadmin 两个app</p></li> <li><p>配置TEMOLATES模板文件的读取路径</p></li> <li><div class="language-python extra-class"><pre class="language-python"><code>  <span class="token punctuation">[</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'templates'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div></li> <li><p>数据库的配置（下面为mysql的配置）</p> <ul><li>配置好打开数据库的名字（bookshop）</li> <li>登录数据库的操作用户（root）</li> <li>登录数据库的操作用户的密码（空）</li> <li>数据库端口号默认是3306</li></ul></li> <li><p>再打开cmd，mysql内创建一个名叫bookshop的数据库</p> <ul><li>1.进入mysql mysql -u root -p</li> <li>2.创建数据库 create database bookshop default charset=utf8mb4;</li> <li>相关mysql操作可以到桌面上的mysql相关进行复习</li></ul></li></ul></li> <li><ol start="5"><li>配置时区和语言</li></ol> <ul><li>设置语言 zh-Hans 为中文 en-us 为英文</li> <li>LANGUAGE_CODE = 'zh-Hans'</li> <li>设置时区 亚洲上海</li> <li>TIME_ZONE = 'Asia/Shanghai'</li></ul></li> <li><p>6.在templates模板文件价和static静态文件夹内都创建爱你myadmin和myhome两个文件</p></li> <li><p>因为前后台用的模板不一样，所以前后台运用的css和jss也不一样</p></li> <li><p>7.在static内创建一个upload文件夹，用于存放前后台都需要的图片存放</p></li> <li><p>至此，基本文件目录创建完成</p></li></ul> <hr> <h2 id="前台页面和后台页面的基本搭建"><a href="#前台页面和后台页面的基本搭建" class="header-anchor">#</a> 前台页面和后台页面的基本搭建</h2> <ul><li>把前台后后台用到的模板和模板所需的静态文件，分别拷贝到对应的templates和static文件夹中的不同分类中</li> <li>利用替换将原来的assets/</li></ul> <p><img src="BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.assets/1.png" alt="1"></p> <ul><li>修改为/static/myadmin</li> <li>前台也是如此，这样页面的基本搭建就完成了</li></ul> <h2 id="后台开发"><a href="#后台开发" class="header-anchor">#</a> 后台开发</h2> <ul><li><p>功能</p> <ul><li><p>注册</p></li> <li><p>会员管理</p> <ul><li>查看会员列表，查看详细信息，禁用，修改，删除，添加（正常网站都无删数据的功能）（数据对于公司来说是无价滴），用禁用来代替</li></ul></li> <li><p>图书分类（暂时不做）</p></li> <li><p>图书商品</p></li> <li><p>订单详情</p></li> <li><p>权限管理</p> <hr></li></ul></li></ul> <h2 id="会员管理页面的搭建"><a href="#会员管理页面的搭建" class="header-anchor">#</a> 会员管理页面的搭建</h2> <ul><li>视图里面添加对对应的函数</li></ul> <img src="BookShop项目笔记.assets/QQ截图20200417110558.png" alt="QQ截图20200417110558" style="zoom:67%;"> <ul><li><p>路由里面添加对应的路由</p></li> <li><p>利用反向解析路由，来配置index.html内的a链接的值</p></li></ul> <img src="BookShop项目笔记.assets/QQ截图20200417111709.png" alt="QQ截图20200417111709" style="zoom:67%;"> <div class="language- extra-class"><pre class="language-text"><code>- htm内属性的值必须在引号内， 
- 反向解析固定写法**{% url '写你想要跳转页面的名字' %}**
- &lt;i&gt; 标签显示斜体文本效果。
- 标签&lt;ul&gt;定义无序列表 
</code></pre></div><hr> <ul><li>在templates文件夹内创建，一个users文件夹，里面存放关于用户的页面模板</li> <li>users内的index页面是继承了myadmin后台文件的index.html页面</li></ul> <div class="language-txt extra-class"><pre class="language-text"><code># 继承某个页面
{% extends 'myadmin/index.html' %}

# 重写html里的某个代码块,block包裹， con，为包裹内容的name
{% block con %}
	中间为想要重写的html代码
{% endblock %}
</code></pre></div><ul><li><p>重写会员管理的模块内容，其余的和首页无差别。</p></li> <li><p>python 格式化代码</p> <ul><li>Ctrl + Alt + L</li></ul></li></ul> <h2 id="后台添加页面和模型的设计"><a href="#后台添加页面和模型的设计" class="header-anchor">#</a> 后台添加页面和模型的设计</h2> <ul><li><em><strong>快捷键缩进 Tab， 缩退，shift+Tab</strong></em></li></ul> <h3 id="用户模型的建立与构想"><a href="#用户模型的建立与构想" class="header-anchor">#</a> 用户模型的建立与构想</h3> <table><thead><tr><th style="text-align:left;">列名</th> <th style="text-align:left;">字段(属性名)</th> <th>类型（在数据库中的存储形式）</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:left;">ID</td> <td style="text-align:left;">id</td> <td>主键</td> <td></td></tr> <tr><td style="text-align:left;">用户名</td> <td style="text-align:left;">User_name</td> <td>Varchar</td> <td></td></tr> <tr><td style="text-align:left;">密码</td> <td style="text-align:left;">Pass_word</td> <td>char(80)[需要用到加密]</td> <td></td></tr> <tr><td style="text-align:left;">手机号</td> <td style="text-align:left;">Phone</td> <td>char(11)</td> <td>唯一索引</td></tr> <tr><td style="text-align:left;">性别</td> <td style="text-align:left;">Sex</td> <td>Tinyint</td> <td></td></tr> <tr><td style="text-align:left;">年龄</td> <td style="text-align:left;">Age</td> <td>Tinyint</td> <td></td></tr> <tr><td style="text-align:left;">注册时间</td> <td style="text-align:left;">Add_time</td> <td>Datetime</td> <td></td></tr> <tr><td style="text-align:left;">最后登录时间</td> <td style="text-align:left;">Save_time</td> <td>Datetime</td> <td></td></tr> <tr><td style="text-align:left;">状态</td> <td style="text-align:left;">Status</td> <td>Tinyint</td> <td>默认为0，禁用为1</td></tr> <tr><td style="text-align:left;">头像</td> <td style="text-align:left;">Face_url</td> <td>Varchar</td> <td>存储头像的路径</td></tr></tbody></table> <h2 id="模型的设计（简称数据库的设计）"><a href="#模型的设计（简称数据库的设计）" class="header-anchor">#</a> 模型的设计（简称数据库的设计）</h2> <p>https://docs.djangoproject.com/zh-hans/2.2/ref/models/fields/#datetimefield</p> <img src="BookShop项目笔记.assets/QQ截图20200419093602.png" alt="QQ截图20200419093602" style="zoom:67%;"> <p>模型设计好后，进行数据库的迁移</p> <h2 id="数据库的迁移"><a href="#数据库的迁移" class="header-anchor">#</a> 数据库的迁移</h2> <ul><li>1.在bookshop项目文件路径内
<ul><li>执行迁移准备</li> <li>python manage.py makemigrations</li></ul></li> <li>2、再执行迁移操作
<ul><li>python manage.py migrate</li> <li>要在当前项目bookshop下执行</li></ul></li></ul> <h2 id="创建一个表单from来接收web发来的数据"><a href="#创建一个表单from来接收web发来的数据" class="header-anchor">#</a> 创建一个表单from来接收web发来的数据</h2> <ul><li><p>表单能接收当前web页面的信息然后再提交给后台进行处理</p></li> <li><p>想要表单能够接收图片，from里面方法必须为post，且有enctyppe</p> <ul><li>from表单必须要写明提交给哪个网页，然后由那个网页的后台views来进行逻辑处理</li> <li>action=&quot;{% url 'myadmin_user_add' %}</li></ul></li> <li><p>由于是post提交，还需要手动加上csrf_token验证</p> <ul><li><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{% url 'myadmin_user_add' %}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>am-form tpl-form-line-form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 {% csrf_token %}
</code></pre></div></li></ul></li> <li><p>至此，from表单内的数据才可以提交到另一个网站上去，也可以提交给当前页面的后台进行处理，这里就是提交给当前页面的后台进行处理数据</p></li></ul> <h2 id="后台处理数据"><a href="#后台处理数据" class="header-anchor">#</a> 后台处理数据</h2> <h3 id="接收web的数据进行处理"><a href="#接收web的数据进行处理" class="header-anchor">#</a> 接收web的数据进行处理</h3> <ul><li>前提：请求方法为POST</li> <li>后台逻辑：
<ul><li>接收表单数据，数据为dict对象，并把认证的csrf弹出</li> <li><img src="BookShop项目笔记.assets/QQ截图20200419134334.png" alt="QQ截图20200419134334" style="zoom:67%;"></li> <li>对密码进行加密</li> <li><img src="BookShop项目笔记.assets/QQ截图20200419134409.png" alt="QQ截图20200419134409" style="zoom:67%;"></li> <li>判断是否有头像上传</li> <li>最后把数据存入数据库中，需要把models文件导入进去</li> <li><img src="BookShop项目笔记.assets/QQ截图20200419134717.png" alt="QQ截图20200419134717" style="zoom:67%;"></li></ul></li></ul> <h1 id="_2020-4-17-4-19-2"><a href="#_2020-4-17-4-19-2" class="header-anchor">#</a> 2020.4.17 - 4.19</h1> <h2 id="后台处理web上传的图片"><a href="#后台处理web上传的图片" class="header-anchor">#</a> 后台处理web上传的图片</h2> <ul><li><p>https://docs.djangoproject.com/zh-hans/2.2/ref/request-response/#attributes</p></li> <li><p>参考网站，处理的是请求对象中的文件属性</p></li></ul> <h3 id="上传的文件需要改名"><a href="#上传的文件需要改名" class="header-anchor">#</a> 上传的文件需要改名</h3> <ul><li><p>防止不同的人上传同一个名字的文件，在数据库中造成覆盖</p></li> <li><p>实现逻辑</p> <ul><li>先从web端拿到文件，利用.name.split分割为list，pop出文件的类型</li> <li>判断是否为规定图片的类型</li> <li>定义存储图片的名字，利用随机数的产生来命名，进行字符串相加</li> <li>打开当前文件的根目录下，将文件写入到服务器电脑上的目录下</li> <li>再把该文件的路径给存入数据库中</li> <li></li></ul></li> <li><div class="language-python extra-class"><pre class="language-python"><code>a <span class="token operator">=</span> <span class="token string">'1,2,3'</span>
x <span class="token operator">=</span> a<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment"># 剩下的是3</span>
a <span class="token operator">=</span> <span class="token string">'1,2,3'</span>
x <span class="token operator">=</span> a<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
x<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment"># 剩下的是 1,2</span>
a <span class="token operator">=</span> <span class="token string">'1,2,3'</span>
x <span class="token operator">=</span> a<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 剩下的是 3</span>


pop<span class="token punctuation">(</span><span class="token punctuation">)</span>方法返回的是弹出的元素，默认弹出最后的一个元素
</code></pre></div></li> <li><img src="BookShop项目笔记.assets/QQ截图20200420113634.png" alt="QQ截图20200420113634" style="zoom:67%;"></li></ul> <h2 id="上传图片的预加载"><a href="#上传图片的预加载" class="header-anchor">#</a> 上传图片的预加载</h2> <ul><li><p>在web中暂时显示要上传的图片</p></li> <li><p>实现技术</p> <ul><li>JavaScript脚本语言实现</li> <li></li></ul></li> <li><p>实现逻辑</p> <ul><li>获得当前<input> 标签的控制权，给他绑定一个事件函数</li> <li>判断是否选择了图片
<ul><li>否：获得<img> 标签控制权，设置src属性为空</li> <li>是：获取当前用户选择的图片的对象，然后将对象的值赋予img标签的src</li></ul></li></ul></li></ul> <img src="BookShop项目笔记.assets/QQ截图20200420113507.png" alt="QQ截图20200420113507" style="zoom:67%;"> <h1 id="_2020-4-27-5-1"><a href="#_2020-4-27-5-1" class="header-anchor">#</a> 2020.4.27 - 5.1</h1> <h2 id="后台显示数据库中的数据"><a href="#后台显示数据库中的数据" class="header-anchor">#</a> 后台显示数据库中的数据</h2> <img src="BookShop项目笔记.assets/QQ截图20200427084345.png" alt="QQ截图20200427084345" style="zoom:67%;"> <ul><li><p>逻辑：</p> <ul><li>导入模板类 from . import models</li> <li>得到数据</li> <li>分配数据</li></ul></li> <li><p>加载入模板</p></li> <li><img src="BookShop项目笔记.assets/QQ截图20200427084513.png" alt="QQ截图20200427084513" style="zoom:67%;"></li> <li><p>在html网页中使用数据需要在两个大括号内进行</p></li> <li><p>而代码则是需要一个大括号加一个%</p></li></ul> <h2 id="利用ajax完成不跳转删除"><a href="#利用ajax完成不跳转删除" class="header-anchor">#</a> 利用ajax完成不跳转删除</h2> <p>​    <img src="BookShop项目笔记.assets/QQ截图20200427095754.png" alt="QQ截图20200427095754" style="zoom:67%;"></p> <img src="BookShop项目笔记.assets/QQ截图20200427095832.png" alt="QQ截图20200427095832" style="zoom:67%;"> <img src="BookShop项目笔记.assets/QQ截图20200427095851.png" alt="QQ截图20200427095851" style="zoom:67%;"> <h1 id="_2020-5-21-30"><a href="#_2020-5-21-30" class="header-anchor">#</a> 2020.5.21-30</h1> <h2 id="对数据库进行搜索数据"><a href="#对数据库进行搜索数据" class="header-anchor">#</a> 对数据库进行搜索数据</h2> <div class="language-python extra-class"><pre class="language-python"><code>select_type <span class="token operator">=</span> request<span class="token punctuation">.</span>GET<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'select_type'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
key_words <span class="token operator">=</span> request<span class="token punctuation">.</span>GET<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'key_words'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> select_type<span class="token punctuation">:</span>
    <span class="token comment"># 当搜索条件不为空</span>
    <span class="token keyword">if</span> select_type <span class="token operator">==</span> <span class="token string">'all'</span><span class="token punctuation">:</span>
        <span class="token keyword">from</span> django<span class="token punctuation">.</span>db<span class="token punctuation">.</span>models <span class="token keyword">import</span> Q
        <span class="token comment"># 参考文档</span>
        <span class="token comment"># https://docs.djangoproject.com/zh-hans/2.2/topics/db/queries/#complex-lookups-with-q-objects</span>
        data <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>
            Q<span class="token punctuation">(</span>id__contains<span class="token operator">=</span>key_words<span class="token punctuation">)</span>
            <span class="token operator">|</span> Q<span class="token punctuation">(</span>User_name__contains<span class="token operator">=</span>key_words<span class="token punctuation">)</span>
            <span class="token operator">|</span> Q<span class="token punctuation">(</span>Phone__contains<span class="token operator">=</span>key_words<span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        <span class="token comment"># select * from users where id like '%keywords%' or username like '%keywords%' or Phone like '%keywords%'</span>
       <span class="token comment"># return HttpResponse(f'&lt;script&gt; alert(&quot;依据全部搜索&quot;);history.go(-1) &lt;/script&gt;')</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        search <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>select_type<span class="token punctuation">}</span></span><span class="token string">__contains'</span></span><span class="token punctuation">:</span> key_words<span class="token punctuation">}</span>
        data <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token operator">**</span>search<span class="token punctuation">)</span>
       <span class="token comment"># return HttpResponse(f'&lt;script&gt; alert(&quot;其余&quot;); history.go(-1) &lt;/script&gt;')</span>

<span class="token comment"># 分配数据</span>
context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'data'</span><span class="token punctuation">:</span> data<span class="token punctuation">}</span>
<span class="token comment"># 加载模板</span>
<span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'myadmin/users/index.html'</span><span class="token punctuation">,</span> context<span class="token operator">=</span>context<span class="token punctuation">)</span>
</code></pre></div><p>函数传参前面加两个**代表，以 v1=k1,v2=k2,v3=k3....这么传进去</p> <h2 id="将数据库中的数据进行分页处理"><a href="#将数据库中的数据进行分页处理" class="header-anchor">#</a> 将数据库中的数据进行分页处理</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;分页功能&quot;&quot;&quot;</span>
<span class="token comment"># 参考文档https://docs.djangoproject.com/zh-hans/2.2/topics/pagination/</span>
<span class="token keyword">from</span> django<span class="token punctuation">.</span>core<span class="token punctuation">.</span>paginator <span class="token keyword">import</span> Paginator
<span class="token comment"># 实例分页对象，传入数据，以及要分几页</span>
data <span class="token operator">=</span> models<span class="token punctuation">.</span>Users<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
p <span class="token operator">=</span> Paginator<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># 获取当前页码,默认为1</span>
page_index <span class="token operator">=</span> request<span class="token punctuation">.</span>GET<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'page'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 根据页码获得当前页的数据</span>
data <span class="token operator">=</span> p<span class="token punctuation">.</span>page<span class="token punctuation">(</span>page_index<span class="token punctuation">)</span>

<span class="token comment"># 分配数据</span>
context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'data'</span><span class="token punctuation">:</span> data<span class="token punctuation">}</span>
<span class="token comment"># 加载模板</span>
<span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'myadmin/users/index.html'</span><span class="token punctuation">,</span> context<span class="token operator">=</span>context<span class="token punctuation">)</span>
</code></pre></div><h2 id="分页优化"><a href="#分页优化" class="header-anchor">#</a> 分页优化</h2> <ul><li>分页优化要借助下面的模板自定义标签</li> <li>在应用中创建一个文件，在文件中写入内容，自己定义需要的功能函数</li> <li>第一个文件是复制该应用下的同名文件，第二个pagetag.py 是自己写的</li> <li>作用：能在html页面中，使用函数</li></ul> <p><img src="BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.assets/image-20200530172710314.png" alt="image-20200530172710314"></p> <h2 id="在模板中自定义标签"><a href="#在模板中自定义标签" class="header-anchor">#</a> 在模板中自定义标签</h2> <ul><li>也就是pagetag.py 内的代码，</li> <li>实现了分页优化。</li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> django <span class="token keyword">import</span> template
<span class="token keyword">from</span> django<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>html <span class="token keyword">import</span> format_html
register <span class="token operator">=</span> template<span class="token punctuation">.</span>Library<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token comment"># 自定义过滤器</span>
<span class="token decorator annotation punctuation">@register<span class="token punctuation">.</span>filter</span>
<span class="token keyword">def</span> <span class="token function">xjq_upper</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> val<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token decorator annotation punctuation">@register<span class="token punctuation">.</span>simple_tag</span>
<span class="token keyword">def</span> <span class="token function">jia</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">int</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>


<span class="token comment"># 自定义分页页码的显示的标签</span>
<span class="token decorator annotation punctuation">@register<span class="token punctuation">.</span>simple_tag</span>
<span class="token keyword">def</span> <span class="token function">show_page</span><span class="token punctuation">(</span>total_page<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 要求，显示的页码数不能超过十个</span>

    <span class="token comment"># 定义开头显示的页码和结尾显示的页码</span>
    page_now <span class="token operator">=</span> request<span class="token punctuation">.</span>GET<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'page'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    page_now <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>page_now<span class="token punctuation">)</span>
    start <span class="token operator">=</span> page_now<span class="token operator">-</span><span class="token number">5</span>
    end <span class="token operator">=</span> page_now<span class="token operator">+</span><span class="token number">5</span>

    <span class="token comment"># 判断，当前页面处于左右两边的临界区域</span>
    <span class="token keyword">if</span> page_now <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">:</span>
        start <span class="token operator">=</span> <span class="token number">1</span>
        end <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">if</span> page_now <span class="token operator">&gt;</span> total_page<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span>
        start <span class="token operator">=</span> total_page<span class="token operator">-</span><span class="token number">9</span>
        end <span class="token operator">=</span> total_page
    <span class="token keyword">if</span> total_page <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">:</span>
        start <span class="token operator">=</span> <span class="token number">1</span>
        end <span class="token operator">=</span> total_page

    page_html <span class="token operator">=</span> <span class="token string">''</span>
    page_html <span class="token operator">+=</span> <span class="token string-interpolation"><span class="token string">f'&lt;li&gt;&lt;a href=&quot;?page=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;'</span></span>
    <span class="token keyword">if</span> page_now<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
        page_html <span class="token operator">+=</span> <span class="token string-interpolation"><span class="token string">f'&lt;li class=&quot;am-disabled&quot;&gt;&lt;a href=&quot;?page=</span><span class="token interpolation"><span class="token punctuation">{</span>page_now <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">&quot;&gt;上一页&lt;/a&gt;&lt;/li&gt;'</span></span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        page_html <span class="token operator">+=</span> <span class="token string-interpolation"><span class="token string">f'&lt;li&gt;&lt;a href=&quot;?page=</span><span class="token interpolation"><span class="token punctuation">{</span>page_now<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">&quot;&gt;上一页&lt;/a&gt;&lt;/li&gt;'</span></span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果是当前页，需要高亮</span>
        <span class="token keyword">if</span> i <span class="token operator">==</span> page_now<span class="token punctuation">:</span>
            page_html <span class="token operator">+=</span> <span class="token string-interpolation"><span class="token string">f'&lt;li class=&quot;am-active&quot; &gt;&lt;a href=&quot;?page=</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">&quot;&gt;</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">&lt;/a&gt;&lt;/li&gt;'</span></span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            page_html <span class="token operator">+=</span> <span class="token string-interpolation"><span class="token string">f'&lt;li&gt;&lt;a href=&quot;?page=</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">&quot;&gt;</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">&lt;/a&gt;&lt;/li&gt;'</span></span>

    <span class="token keyword">if</span> page_now <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> total_page<span class="token punctuation">:</span>
        page_html <span class="token operator">+=</span> <span class="token string-interpolation"><span class="token string">f'&lt;li class=&quot;am-disabled&quot;&gt;&lt;a href=&quot;?page=</span><span class="token interpolation"><span class="token punctuation">{</span>page_now <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">&quot;&gt;下一页&lt;/a&gt;&lt;/li&gt;'</span></span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        page_html <span class="token operator">+=</span> <span class="token string-interpolation"><span class="token string">f'&lt;li&gt;&lt;a href=&quot;?page=</span><span class="token interpolation"><span class="token punctuation">{</span>page_now <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">&quot;&gt;下一页&lt;/a&gt;&lt;/li&gt;'</span></span>
    page_html <span class="token operator">+=</span> <span class="token string-interpolation"><span class="token string">f'&lt;li&gt;&lt;a href=&quot;?page=</span><span class="token interpolation"><span class="token punctuation">{</span>total_page<span class="token punctuation">}</span></span><span class="token string">&quot;&gt;尾页&lt;/a&gt;&lt;/li&gt;'</span></span>
    <span class="token keyword">return</span> format_html<span class="token punctuation">(</span>page_html<span class="token punctuation">)</span>
</code></pre></div><ul><li>在html页面中使用我们自己写的函数</li> <li>{% load 文件名 %}</li> <li>{% 函数名 函数参数 %}</li></ul> <div class="language- extra-class"><pre class="language-text"><code>            {% load pagetag %}
&lt;!-- &lt;li class=&quot;am-disabled&quot;&gt;&lt;a href=&quot;#&quot;&gt;«&lt;/a&gt;&lt;/li&gt; --&gt;
            {% show_page data.paginator.num_pages request %}
&lt;!-- &lt;li class=&quot;am-active&quot;&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt; --&gt;
</code></pre></div><h1 id="_2020-5-31-6-2"><a href="#_2020-5-31-6-2" class="header-anchor">#</a> 2020.5.31-6.2</h1> <h2 id="图书分类模块的设计"><a href="#图书分类模块的设计" class="header-anchor">#</a> 图书分类模块的设计</h2> <ul><li>图书拥有的操作</li> <li>添加，列表显示，删除，编辑</li> <li>图书分类模型：</li></ul> <table><thead><tr><th>列名</th> <th>字段</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>ID</td> <td>id</td> <td>主键</td> <td></td></tr> <tr><td>分类名称</td> <td>Book_name</td> <td>字符串</td> <td></td></tr> <tr><td>父级ID</td> <td>Book_pid</td> <td>数字</td> <td></td></tr> <tr><td>路径</td> <td>Book_path</td> <td>字符串</td> <td></td></tr></tbody></table> <div class="language- extra-class"><pre class="language-text"><code>分类
ID	分类名		父级ID	路径path	
1	人文社科	0		0，
2	小说		 0			0，
3	经济管理	0		0，
4	古籍		 1			0,1，
5	古经		 4			0,1,4
6	当代小说	2		0,2 
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># 图书分类模型
class BookType(models.Model):
    Book_name = models.CharField(max_length=10)
    Book_pid = models.IntegerField()
    Book_path = models.CharField(max_length=50)
</code></pre></div><h2 id="数据库的迁移-2"><a href="#数据库的迁移-2" class="header-anchor">#</a> 数据库的迁移</h2> <ul><li>1.在bookshop项目文件路径内
<ul><li>执行迁移准备</li> <li>python manage.py makemigrations</li></ul></li> <li>2、再执行迁移操作
<ul><li>python manage.py migrate</li> <li>要在当前项目bookshop下执行</li></ul></li></ul> <h2 id="对myadmin后台视图进行优化"><a href="#对myadmin后台视图进行优化" class="header-anchor">#</a> 对myadmin后台视图进行优化</h2> <ul><li>1.在myadmin应用文件下创建views文件夹</li> <li>2.把views文件夹变成一个包，需要有____init____.py这个文件
<ul><li>需要把views下的所有.py文件的名字都写入初始化文件中</li></ul></li> <li>3.对于处理不同模型的视图函数，建立不同的专属文件来处理</li></ul> <h3 id="修改后的文件目录"><a href="#修改后的文件目录" class="header-anchor">#</a> 修改后的文件目录</h3> <img src="BookShop项目笔记.assets/image-20200531094252900.png" alt="image-20200531094252900"> <ul><li>init文件的内容</li></ul> <div class="language- extra-class"><pre class="language-text"><code>
__all__ = [
    'IndexViews',
    'BooktypeViews',
    'UsersViwes',
]
</code></pre></div><ul><li>更改后的myadmin文件夹下的urls.py文件内容需要进行改变</li> <li><img src="BookShop项目笔记.assets/image-20200531094435559.png" alt="image-20200531094435559" style="zoom:67%;"></li></ul> <h2 id="对图书分类进行初始化操作"><a href="#对图书分类进行初始化操作" class="header-anchor">#</a> 对图书分类进行初始化操作</h2> <img src="BookShop项目笔记.assets/image-20200531095849984.png" alt="image-20200531095849984" style="zoom:67%;"> <ul><li><p>书写基本的http响应</p></li> <li><p>在urls中添加相应的路由</p></li></ul> <img src="BookShop项目笔记.assets/image-20200531095942682.png" alt="image-20200531095942682" style="zoom:67%;"> <ul><li></li> <li>***在myadmin的index.html中修改a链接的跳转网址</li></ul> <p><img src="BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.assets/image-20200531100434295.png" alt="image-20200531100434295"></p> <h2 id="图书分类添加的实现"><a href="#图书分类添加的实现" class="header-anchor">#</a> 图书分类添加的实现</h2> <ul><li>图书分类存在所属关系，父级，子集存在着关联</li> <li>下面是完成对添加网络请求的操作</li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">BookType_add</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    types <span class="token operator">=</span> models<span class="token punctuation">.</span>BookType<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'types'</span><span class="token punctuation">:</span> types<span class="token punctuation">}</span>
    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'GET'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'myadmin/booktype/add.html'</span><span class="token punctuation">,</span> context<span class="token operator">=</span>context<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment"># 接收表单数据</span>
        data <span class="token operator">=</span> request<span class="token punctuation">.</span>POST<span class="token punctuation">.</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        data<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">&quot;csrfmiddlewaretoken&quot;</span><span class="token punctuation">)</span>
        <span class="token comment"># {'Book_pid': '1', 'Book_name': '玄幻'}</span>
        <span class="token comment"># 判断当前添加的分类是否为顶级分类</span>
        <span class="token keyword">if</span> data<span class="token punctuation">[</span><span class="token string">'Book_pid'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">:</span>
            data<span class="token punctuation">[</span><span class="token string">'Book_path'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'0,'</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># {'Book_pid': '2', 'Book_name': '修仙'}</span>
            <span class="token comment"># path 是父级的path数据加上当前的父级Book_pid</span>
            <span class="token comment"># 获取父级对象</span>
            obj <span class="token operator">=</span> types<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span>data<span class="token punctuation">[</span><span class="token string">'Book_pid'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            data<span class="token punctuation">[</span><span class="token string">'Book_path'</span><span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">.</span>Book_path <span class="token operator">+</span> data<span class="token punctuation">[</span><span class="token string">'Book_pid'</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">','</span>
            <span class="token comment"># {'Book_pid': '1', 'Book_name': '斗破苍穹', 'Book_path': '0,1,'}</span>
    <span class="token comment"># 进行数据的添加</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        obj <span class="token operator">=</span> models<span class="token punctuation">.</span>BookType<span class="token punctuation">(</span><span class="token operator">**</span>data<span class="token punctuation">)</span>
        obj<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        url <span class="token operator">=</span> reverse<span class="token punctuation">(</span><span class="token string">'myadmin_BookType_index'</span><span class="token punctuation">)</span>
        <span class="token comment"># /admin/BookType/index</span>
        <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'&lt;script&gt;alert(&quot;图书分类添加成功&quot;);location.href=&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>url<span class="token punctuation">}</span></span><span class="token string">&quot;&lt;/script&gt;'</span></span><span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'&lt;script&gt;alert(&quot;图书分类添加失败&quot;);history.back();&quot;&lt;/script&gt;'</span></span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&quot;BookType_add&quot;</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><p>关键是如下逻辑</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># 获取父级对象</span>
<span class="token comment"># path 是父级的path数据加上当前的父级Book_pid</span>
obj <span class="token operator">=</span> types<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span>data<span class="token punctuation">[</span><span class="token string">'Book_pid'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'Book_path'</span><span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">.</span>Book_path <span class="token operator">+</span> data<span class="token punctuation">[</span><span class="token string">'Book_pid'</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">','</span>
</code></pre></div></li></ul> <h2 id="对数据库内的层级关系进行排序显示"><a href="#对数据库内的层级关系进行排序显示" class="header-anchor">#</a> 对数据库内的层级关系进行排序显示</h2> <ul><li><p>对应视频235</p></li> <li><p>原来的显示如下</p></li> <li><img src="BookShop项目笔记.assets/image-20200601082855695.png" alt="image-20200601082855695" style="zoom:67%;"></li> <li><p>正确的应该是玄幻下面是初级玄幻，以及斗破苍穹</p></li> <li><p>出现上图现象原因是，python语句</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>    data = models.BookType.objects.all()
    # 这条语句，相当于在mysql中执行
    # select * from myadmin_booktype;
</code></pre></div><img src="BookShop项目笔记.assets/image-20200601083521369.png" alt="image-20200601083521369" style="zoom:67%;"> <ul><li><p>对数据库进行操作</p></li> <li><img src="BookShop项目笔记.assets/image-20200601082946044.png" alt="image-20200601082946044" style="zoom:67%;"></li> <li><p>mysql执行语句</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code> # concat函数可以拼接两个字段，合为一个字符串，新别名为paths, 然后以这个新的别名来进行从小到大的排序
 # mysql中排序是按照ascall码进行排序的，所以第一列是最小，第二列是1.依次增大
 select *, concat(Book_path,id) as paths from myadmin_booktype order by paths;
</code></pre></div><ul><li>现在思考的问题就是如何把mysql的这条语句用python进行执行</li></ul> <div class="language- extra-class"><pre class="language-text"><code> # select * from myadmin_booktype;
    # data = models.BookType.objects.all()
    # select *, contcat(Book_path,id) as paths from myadmin_booktype order by paths;
    data = models.BookType.objects.extra(select{'paths':'concat(Book_path,id)'}).order_by('paths')
    context = {'data': data}
    return render(request, 'myadmin/booktype/index.html', context=context)
</code></pre></div><h3 id="处理缩进问题"><a href="#处理缩进问题" class="header-anchor">#</a> 处理缩进问题</h3> <ul><li>让刚才已经分好类的内容进行不同程度的缩进</li> <li>这样增加可读性</li> <li>逻辑
<ul><li>根据不同类型的路线Book_path 中包含的逗号作为缩进的依据</li> <li>每一个类型的缩进个数为逗号个数-1</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>  for i in data:
        # print(type(i), i)
        # &lt;class 'myadmin.models.BookType'&gt; BookType object (1)
        num = i.Book_path.count(',')-1
        i.nbsp = '|----' * num
</code></pre></div><h2 id="ajax删除分类"><a href="#ajax删除分类" class="header-anchor">#</a> ajax删除分类</h2> <ul><li><p>视频236</p></li> <li><p>删除逻辑</p></li> <li><p>可以删除的类型满足的条件</p> <ul><li>该类型下没有子类</li> <li>该类型下没有商品存在</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>def BookType_delete(request):
    # 获取要删除的分离的id
    id = request.GET.get('id')
    # 判断当前类下是否含有子类
    num = models.BookType.objects.filter(Book_pid=id).count()
    if num:
        return JsonResponse({'error': 1, 'msg': '该类下含有子类，不能删除'})

    # 判断该类下是否含有商品

    # 执行删除
    try:
        obj = models.BookType.objects.get(id=id)
        obj.delete()
        return JsonResponse({'error': 0, 'msg': '删除成功'})
    except:
        return JsonResponse({'error': 3, 'msg': '删除失败'})

</code></pre></div><h2 id="ajax编辑图书分离"><a href="#ajax编辑图书分离" class="header-anchor">#</a> ajax编辑图书分离</h2> <h3 id="script代码语法出错不会报"><a href="#script代码语法出错不会报" class="header-anchor">#</a> script代码语法出错不会报</h3> <ul><li><p>所有的javascript代码都会失效</p></li> <li><p>django 中所有的post请求都需要通过CSRF验证</p></li> <li><p>双击文字，让他变成一个input类型的标签，可以直接在页面对类型进行更改</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>// ajax编辑分类名称
// type_name 所属span标签 $(this)是一个jQuery对象
$('.type_name').dblclick(function(){
           // 解决多次点击双击仍有效的bug
           // 利用上锁开锁原理，保证同一时间内只能触发一次，标签可编辑
           is = $(this).attr('isclick')
           // 1.检测是否上锁
           if(is == '0'){
            // 没上锁, 对当前标签进行编辑操作
                edit_type_name($(this))
           }
})

function edit_type_name($this){
// 此时的$this 变量已经是一个jQuery对象,对应着span标签
	// 进入函数后首先上锁
	$this.attr('isclick','1')
 // 1.绑定双击事件，获取当前的分类名称
	var name = $this.text()
	var id = $this.parents('tr').find('.book_id').text()
   //alert(name)
   // 2.创建一个input输入框，把name放进去
   var inp = $('&lt;input value=&quot;'+name+'&quot; style=&quot;color:black&quot;&gt;')
   // 3.把input放置到显示的位置
   $this.html(inp)
   // 自动全选内容
   inp.select()
   // 4. 给input绑定丧失焦点事件
   inp.blur(function(){
   // 这里的$(this）对应着input标签
		// 5.丧失焦点后，获取更新后的name
		var new_name = $(this).val()
		// alert(new_name)
		// 6.判断新的name是否发生了变化
		if(new_name == name){
			// 没变化，还原即可
			 $this.html(name)
		}else{
			// 7.发送ajax请求去后台，更新分类的Book_name
			// $.post()参数：
			// 1.提交的地址,
			// 2.post请求提交的表单数据（以字典的形式传过去），
			// 3.回调函数function,参数：接收视图函数发来的数据
			// 4.回调接收的返回数据类型

			// django 中所有的post请求都需要通过CSRF验证
			$.ajaxSetup({
				data:{csrfmiddlewaretoken: '{{ csrf_token }}'}
			})
			$.post('{% url 'myadmin_BookType_edit' %}',{'id':id, 'name': new_name}, function(data){
				//alert(data['msg'])
				// 8. 判断是否更新成功
				if(data['error']==0){
				   // 9.显示新的名字
				   $this.html(new_name)
				}else{
					$this.html(name)
				}
			}, 'json')
		}
		// 当丧失焦点后解锁
		$this.attr('isclick', '0')
	})
}
</code></pre></div><ul><li><p>这里面运用到了解锁，</p> <h3 id="上锁问题解锁开锁问题"><a href="#上锁问题解锁开锁问题" class="header-anchor">#</a> 上锁问题解锁开锁问题</h3> <ul><li>初始状态设为开锁</li></ul> <p><img src="BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.assets/image-20200601172155296.png" alt="image-20200601172155296"></p> <ul><li><p>每次双击进行判断，查看当前状态是否为上锁，不上锁，才能执行ajax不跳转编辑操作</p> <img src="BookShop项目笔记.assets/image-20200601172339396.png" alt="image-20200601172339396" style="zoom:67%;"></li> <li><p>每次进入编辑操作时，先上锁，防止二次操作</p> <img src="BookShop项目笔记.assets/image-20200601172432580.png" alt="image-20200601172432580" style="zoom:67%;"></li> <li><p>每次对一个标签操作完后，再进行解锁</p></li></ul></li></ul> <p><img src="BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.assets/image-20200601172600007.png" alt="image-20200601172600007"></p> <h1 id="_2020-6-2"><a href="#_2020-6-2" class="header-anchor">#</a> 2020.6.2 -</h1> <h2 id="图书商城模型设计"><a href="#图书商城模型设计" class="header-anchor">#</a> 图书商城模型设计</h2> <h2 id="图书商品拥有的功能"><a href="#图书商品拥有的功能" class="header-anchor">#</a> 图书商品拥有的功能</h2> <ul><li>添加，删除，修改，列表显示</li></ul> <h2 id="图书模型设计："><a href="#图书模型设计：" class="header-anchor">#</a> 图书模型设计：</h2> <ul><li>一个分类标签对应多本书，一对多</li></ul> <table><thead><tr><th>列名</th> <th>字段名</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>id</td> <td>id</td> <td>主键</td> <td></td></tr> <tr><td>所属分类</td> <td>Type_belong</td> <td>一对多</td> <td></td></tr> <tr><td>书名</td> <td>Title</td> <td>models.CharField</td> <td></td></tr> <tr><td>推荐语</td> <td>Tuijian</td> <td>models.CharField</td> <td></td></tr> <tr><td>作者</td> <td>Author</td> <td>models.CharField</td> <td></td></tr> <tr><td>出版社</td> <td>Publisher</td> <td>models.CharField</td> <td></td></tr> <tr><td>出版时间</td> <td>Pub_date</td> <td>models.DateTimeField</td> <td></td></tr> <tr><td>定价</td> <td>Price</td> <td>models.IntegerField</td> <td></td></tr> <tr><td>库存数量</td> <td>Num</td> <td>models.IntegerField</td> <td></td></tr> <tr><td>国际书号ISBN</td> <td>Isbn</td> <td>models.CharField</td> <td></td></tr> <tr><td>详情介绍</td> <td>Context</td> <td>models.CharField</td> <td></td></tr></tbody></table> <div class="language- extra-class"><pre class="language-text"><code>
# 图书商品模型
class Books(models.Model):
    # 一对多，参数：当前类1对多的对象， 级联删除
    # 主外关系键中，级联删除，也就是当删除主表的数据时候从表中的数据也随着一起删除
    Type_belong = models.ForeignKey('BookType', on_delete=models.CASCADE)
    Title = models.CharField(max_length=255)
    Tuijian = models.CharField(max_length=255)
    Author = models.CharField(max_length=50)
    # 出版社
    Publisher = models.CharField(max_length=100)
    # 出版时间
    Pub_date = models.DateTimeField()
    Price = models.IntegerField()
    # 库存
    Num = models.IntegerField(default=10)
    Isbn = models.CharField(max_length=13)
    # 详情
    Context = models.TextField()
</code></pre></div><h2 id="图书封面图集模型"><a href="#图书封面图集模型" class="header-anchor">#</a> 图书封面图集模型</h2> <table><thead><tr><th>列名</th> <th>字段</th> <th>类型</th></tr></thead> <tbody><tr><td>所属图书</td> <td>Book_belong</td> <td>一对多</td></tr> <tr><td>封面图url</td> <td>Book_img_url</td> <td>models.CharField</td></tr> <tr><td></td> <td></td> <td></td></tr></tbody></table> <div class="language- extra-class"><pre class="language-text"><code># 图书封面图集
class BookImgs(models.Model):
    Book_belong = models.ForeignKey('Books', on_delete=models.CASCADE)
    Book_img_url = models.CharField(max_length=100)

</code></pre></div><ul><li><p>设计好模型后</p></li> <li><p>生成迁移文件</p> <ul><li>在bookshop目录下执行 python manage.py makemigrations</li></ul></li> <li><p>执行迁移文件</p> <ul><li>python manage.py migrate</li></ul></li></ul> <p>订单，</p> <p>权限管理</p> <h2 id="图书商品的添加"><a href="#图书商品的添加" class="header-anchor">#</a> 图书商品的添加</h2> <ul><li>注意
<ul><li>模型里有一对多的关系，所以那个属性应该对应着一个对象，而网页传来的是对象的id</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>def Books_add(request):
    if request.method == 'GET':
        context = {'types': select_all_types()}
        return render(request, 'myadmin/books/add.html', context=context)
    else:
        # 接收表单数据
        data = request.POST.dict()
        data.pop('csrfmiddlewaretoken')
        # 检测是否上传了图书封面
        if not request.FILES.get('Img_url', None):
            return HttpResponse(f'&lt;script&gt;alert(&quot;至少上传一张图片&quot;);history.back();&lt;/script&gt;')
        try:
            # 添加图书对象
            data['Type_belong'] = models.BookType.objects.get(id=data['Type_belong'])
            book_obj = models.Books(**data)
            book_obj.save()
        except:
            return HttpResponse(f'&lt;script&gt;alert(&quot;图书上传失败&quot;);history.back();&lt;/script&gt;')

        try:
            # 图书封面图的处理
            img_obj = models.BookImgs()
            # 一个图书有多个图书封面
            img_obj.Book_belong = book_obj
            img_obj.Book_img_url = Upload_file(request, 'Img_url')
            img_obj.save()
            print(data)
        except:
            book_obj.delete()
            return HttpResponse(f'&lt;script&gt;alert(&quot;图书封面上传失败&quot;);history.back();&lt;/script&gt;')

        url = reverse('myadmin_Books_index')
        return HttpResponse(f'&lt;script&gt;alert(&quot;添加成功&quot;);location.href=&quot;{url}&quot; &lt;/script&gt;')
</code></pre></div><h2 id="图书列表的显示"><a href="#图书列表的显示" class="header-anchor">#</a> 图书列表的显示</h2> <ul><li>注意！：图书图片的显示比较特殊</li></ul> <div class="language- extra-class"><pre class="language-text"><code>def Books_index(request):
    # 接收数据
    data = models.Books.objects.all()
    # 访问关联对象参考
    # https: // docs.djangoproject.com / zh - hans / 2.2 / ref / models / relations /
    # print(data[0].bookimgs_set.first())
    context = {'data': data}
    return render(request, 'myadmin/books/index.html', context=context)
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>&lt;td&gt; &lt;img src=&quot;{{ i.bookimgs_set.first.Book_img_url }}&quot; class=&quot;tpl-table-line-img&quot; alt=&quot;&quot; /&gt; &lt;/td&gt;
</code></pre></div><ul><li>Html中函数不能加括号()</li></ul> <div class="language- extra-class"><pre class="language-text"><code># print(data[0].bookimgs_set.first().Book_img_url)
src=&quot;{{ i.bookimgs_set.first.Book_img_url }}&quot;
</code></pre></div><h2 id="添加富文本编辑器"><a href="#添加富文本编辑器" class="header-anchor">#</a> 添加富文本编辑器</h2> <p>把ueditor作为项目中的应用，加入到项目中去</p> <ul><li>作为一个APP ，和myadmin文件夹同级</li> <li>在setting文件中配置app应用的加入</li> <li>修改根路由文件，配置富文本编辑器的路由地址</li> <li><img src="BookShop项目笔记.assets/image-20200605084539245.png" alt="image-20200605084539245" style="zoom:67%;"><img src="BookShop%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.assets/image-20200605084553255.png" alt="image-20200605084553255"></li></ul> <img src="BookShop项目笔记.assets/image-20200605084624259.png" alt="image-20200605084624259" style="zoom:67%;"> <ul><li><p>在templates下的myadmin下创建demo.html</p></li> <li><p>参考网址 http://fex.baidu.com/ueditor/#start-submit</p> <p>css 会对富文本编辑器有影响</p> <p>采用二分法，删除css样式对</p></li></ul> <h2 id="多图开发插插件应用"><a href="#多图开发插插件应用" class="header-anchor">#</a> 多图开发插插件应用</h2> <p>​	从jq22.com白嫖插件，全是html插件</p> <ul><li>视频243</li></ul></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">6/17/2020, 11:15:15 AM</span></div></footer> <!----> <!----></main> <!----> <div class="comments-wrapper" data-v-4698c43e><!----></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-a81d141e data-v-a81d141e><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-a81d141e><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-a81d141e></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-a81d141e></path></svg></div></div></div>
    <script src="/xjq2020616_blog_vuepress/assets/js/app.7ef42ee5.js" defer></script><script src="/xjq2020616_blog_vuepress/assets/js/3.f0d8f0a3.js" defer></script><script src="/xjq2020616_blog_vuepress/assets/js/1.11f2be65.js" defer></script><script src="/xjq2020616_blog_vuepress/assets/js/11.ec4223de.js" defer></script>
  </body>
</html>
